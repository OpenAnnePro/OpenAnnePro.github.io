{"0": {
    "doc": "About",
    "title": "About",
    "content": "This is an alternative firmware for the Anne Pro 2 Keyboard. This is by no means endorsed by Obins. ",
    "url": "https://openannepro.github.io/about/",
    "relUrl": "/about/"
  },"1": {
    "doc": "About",
    "title": "Contributors",
    "content": "Thanks to @Rusty on the Discord server for measuring his C18 revision, without him it would be impossible to add the C18 support. Thanks to @Stanley00 on the Discord server for his work on porting Shine project to support C18. Thanks to @Msvisser on the Discord server for his work in helping me reversing the bootloader. ",
    "url": "https://openannepro.github.io/about/#contributors",
    "relUrl": "/about/#contributors"
  },"2": {
    "doc": "About",
    "title": "Project URLs",
    "content": ". | QMK Firmware Port The open source Keyboard Firmware | AnnePro2-Shine Anne Pro 2 Custom LED Firmware | AnnePro2-Tools Anne Pro 2 Flashing Tool | . ",
    "url": "https://openannepro.github.io/about/#project-urls",
    "relUrl": "/about/#project-urls"
  },"3": {
    "doc": "About",
    "title": "Contact",
    "content": "Feel free to contact me with any question at codetector#codetector.cn . Also I will be writing a blog series about reversing this keyboard, feel free to check it out when it comes out. Codetector’s Blog . ",
    "url": "https://openannepro.github.io/about/#contact",
    "relUrl": "/about/#contact"
  },"4": {
    "doc": "About",
    "title": "Discord Server",
    "content": "We have a discord server started by @ah- for his Anne Pro 1 project. Feel free to join and discuss anything Anne Pro 1/2 related :D . Anne Pro Dev . ",
    "url": "https://openannepro.github.io/about/#discord-server",
    "relUrl": "/about/#discord-server"
  },"5": {
    "doc": "Contributing",
    "title": "Contributing",
    "content": "Thanks for your interest in helping out with this project. This project couldn’t have existed without everyone’s help. Below is a list of Goals that we are currently looking to get done, feel free to contribute. If you would like to contribute code, feel free to fork the repo and make PRs as you see fit. ",
    "url": "https://openannepro.github.io/contributing/",
    "relUrl": "/contributing/"
  },"6": {
    "doc": "Contributing",
    "title": "To-Do Items",
    "content": ". | Reverse Engineer the AnnePro IAP Protocol | Setup a QMK configurator site | Develope a better LED color management system | Reverse Engineer the Bluetooth Protocol (Got protocol from Obins) | Write a custom Bluetooth Firmware for the CC2541 BLE processor | Implement LED backlight / effects for the AnnePro2-Shine project | Improve communication protocol between Main and LED MCU | Improve documentation quality | . ",
    "url": "https://openannepro.github.io/contributing/#to-do-items",
    "relUrl": "/contributing/#to-do-items"
  },"7": {
    "doc": "Frequently Asked Questions",
    "title": "FAQs",
    "content": ". | If I flash this firmware, will I be able to revert to the original Anne Pro firmware later? | . Yes. We use the original Anne Pro 2’s bootloader to load our firmware, so reverting is as easy as putting the keyboard into IAP mode and do an firmware update with ObinsKit. (Note: We have noticed ObinsKit might have trouble restoring when under macOS, but have had great success with Windows.) . | I am having trouble building the firmware, what am I missing? | . First, please make sure you have fully read the install guide, this will help everyone in the discord server and yourself to save time. Since we are all volunteering to help eachother out. Also make sure you have all the required tool chains installed. (gcc-arm-none-eabi, make, etc) . | Flashing stuck on device is Some(\"USB-HID IAP\") | . This one is interesting. I personally have encountered this a few times, but I have always been able to solve this by a) changing a usb port. b) restart computer. | Any advice for Windows users? | . Yes. In fact, I recommend windows users to build the firmware under WSL and flash the firmware in native windows environment. (aka install rustc in windows and build annepro2-tools there). This seems to work the best for most people. YMMV. ",
    "url": "https://openannepro.github.io/faq/#faqs",
    "relUrl": "/faq/#faqs"
  },"8": {
    "doc": "Frequently Asked Questions",
    "title": "Frequently Asked Questions",
    "content": " ",
    "url": "https://openannepro.github.io/faq/",
    "relUrl": "/faq/"
  },"9": {
    "doc": "Home",
    "title": "Open Anne Pro",
    "content": "This is an alternative firmware for the Anne Pro 2 Keyboard. This is for the Anne Pro 2 keyboard, for the Anne Pro 1, please refer to the anne-key project. ",
    "url": "https://openannepro.github.io/#open-anne-pro",
    "relUrl": "/#open-anne-pro"
  },"10": {
    "doc": "Home",
    "title": "Why Custom Firmware",
    "content": "From my short and limited experience with the original firmware provided by ObinsLab, I find it to be extremely buggy. One of the most significant problem being compatibility in BIOS. Aside from buggy, I would also like to switch the “Magic FN” from caps lock to other keys. ",
    "url": "https://openannepro.github.io/#why-custom-firmware",
    "relUrl": "/#why-custom-firmware"
  },"11": {
    "doc": "Home",
    "title": "Status",
    "content": "This project is still under heavy development and in its early stages. I would recommend to always have a backup keyboard if you are going to participate in the project. (i.e. if something arises you still have a second way to input keystrokes for long enough that you can either restore to the Obins firmware or find a solution). To see a list of To-Do items click here . ",
    "url": "https://openannepro.github.io/#status",
    "relUrl": "/#status"
  },"12": {
    "doc": "Home",
    "title": "QMK",
    "content": "QMK is a powerful open source keyboard firmware used by many open source keyboards that are on the market today. It is most famous for its appearance in the Plank and ErgoDox EZ keyboards. Currently, we have a fully functional port of the QMK firmware for both the c15 and c18 revision. (If you are unsure which one you have, read below.) This includes key matrix function, which is the “most important” part of a keyboard, I would say. ",
    "url": "https://openannepro.github.io/#qmk",
    "relUrl": "/#qmk"
  },"13": {
    "doc": "Home",
    "title": "AnnePro2-Shine",
    "content": "Shine is the custom firmware designed to run on the LED micro-controller of the keyboard to control lighting effects. In Obins’ words, this is the Light processor. Currently this project is in its infancy, only very basic features has been tested. It can act as a decent indicator light (e.g. Caps Lock) using the RGB LEDs. But there is a lot of potential out there, as the firmware is only about 5KB in size right now, and the microcontroller can hold 64/128 KB of code for the c15/c18 revision respectively. ",
    "url": "https://openannepro.github.io/#annepro2-shine",
    "relUrl": "/#annepro2-shine"
  },"14": {
    "doc": "Home",
    "title": "Bluetooth",
    "content": "Currently the bluetooth support is based on the original Obins BLE processor firmware, which means you will not need to reflash the BLE chip if you have the latest stock firmware on it. Contact me in the discord if you need a copy of the stock BLE firmware to flash. ",
    "url": "https://openannepro.github.io/#bluetooth",
    "relUrl": "/#bluetooth"
  },"15": {
    "doc": "Home",
    "title": "Home",
    "content": " ",
    "url": "https://openannepro.github.io/",
    "relUrl": "/"
  },"16": {
    "doc": "Build Using Docker",
    "title": "The following build script is provided by @zinosat on the Discord Server",
    "content": "Save the following into a file named Dockerfile . # docker build -t ap2 . # # docker run --privileged -h ap2 --rm -it -v ${PWD}:/host --user $(id -u) -w /home/dev ap2 bash FROM debian:bullseye MAINTAINER Davide Viti &lt;zinosat@gmail.com&gt; RUN sed -i \\ -e \"s|deb.debian.org|debian.fastweb.it|g\" \\ /etc/apt/sources.list RUN apt-get update &amp;&amp; \\ DEBIAN_FRONTEND=noninteractive apt-get install -yq --no-install-recommends \\ build-essential less git sudo \\ pkg-config libusb-1.0-0-dev cargo gcc-arm-none-eabi libstdc++-arm-none-eabi-newlib RUN adduser --disabled-password --gecos '' dev &amp;&amp; \\ adduser dev sudo &amp;&amp; \\ echo '%sudo ALL=(ALL) NOPASSWD:ALL' &gt;&gt; /etc/sudoers RUN cd /home/dev; sudo -H -u dev git clone https://github.com/OpenAnnePro/AnnePro2-Tools.git &amp;&amp; cd AnnePro2-Tools &amp;&amp; cargo build --release RUN cd /home/dev; sudo -H -u dev git clone https://github.com/OpenAnnePro/qmk_firmware.git annepro-qmk --recursive --depth 1 &amp;&amp; cd annepro-qmk &amp;&amp; make annepro2/c18 RUN cd /home/dev; sudo -H -u dev git clone https://github.com/OpenAnnePro/AnnePro2-Shine.git --recursive --depth 1 &amp;&amp; cd AnnePro2-Shine &amp;&amp; make MODEL=C18 RUN cp /home/dev/AnnePro2-Tools/target/release/annepro2_tools /home/dev/ RUN cp /home/dev/annepro-qmk/.build/annepro2_c18_default.bin /home/dev/ RUN cp /home/dev/AnnePro2-Shine/build/annepro2-shine.bin /home/dev/ ENV TZ /usr/share/zoneinfo/Europe/Rome . and run . docker build -t ap2 . docker run --privileged -h ap2 --rm -it -v ${PWD}:/host --user $(id -u) -w /home/dev ap2 bash . ",
    "url": "https://openannepro.github.io/install_docker.html#the-following-build-script-is-provided-by-zinosat-on-the-discord-server",
    "relUrl": "/install_docker.html#the-following-build-script-is-provided-by-zinosat-on-the-discord-server"
  },"17": {
    "doc": "Build Using Docker",
    "title": "Build Using Docker",
    "content": " ",
    "url": "https://openannepro.github.io/install_docker.html",
    "relUrl": "/install_docker.html"
  },"18": {
    "doc": "How to Install",
    "title": "Install Instructions",
    "content": "** WARNING: these instructions are by no means complete, feel free to ask in the Discord Server if you encounter any problems. As we are still in early test stages.** . ",
    "url": "https://openannepro.github.io/install/#install-instructions",
    "relUrl": "/install/#install-instructions"
  },"19": {
    "doc": "How to Install",
    "title": "Alternative Docker Build Script",
    "content": "Checkout the docker build script provided by @zinosat. Dockerfile . ",
    "url": "https://openannepro.github.io/install/#alternative-docker-build-script",
    "relUrl": "/install/#alternative-docker-build-script"
  },"20": {
    "doc": "How to Install",
    "title": "Get AnnePro2 Tools",
    "content": ". | Install the latest stable rust toolchain using rustup | Download or Clone the AnnePro2-Tools project. | Compile the tool using cargo build --release . | The compiled tool should be in ./target/release/annepro2_tools (In later I will refer to this as annepro2_tools) | . ",
    "url": "https://openannepro.github.io/install/#get-annepro2-tools",
    "relUrl": "/install/#get-annepro2-tools"
  },"21": {
    "doc": "How to Install",
    "title": "Get QMK firmware",
    "content": "Hint: If you are on windows, I recommend completing this step using WSL. YMMV . | Clone our fork of the QMK firmware by using the command below. (Install Git if needed) git clone https://github.com/OpenAnnePro/qmk_firmware.git annepro-qmk --recursive --depth 1 . | Obtain the gcc-arm-none-eabi toolchain so you can build the project. | To compile the firmware type # For C15 Revision make annepro2/c15 # For C18 Revision make annepro2/c18 . This should complete without any error. And you should be able to see a file named annepro2_c15(18)_default.bin in your directory. | . ",
    "url": "https://openannepro.github.io/install/#get-qmk-firmware",
    "relUrl": "/install/#get-qmk-firmware"
  },"22": {
    "doc": "How to Install",
    "title": "Flashing the firmware",
    "content": ". | Put the keyboard into DFU/IAP mode. | Run annepro2_tools with the firmware you just built. Please substitute with correct path annepro2_tools annepro2_c15_default.bin . If you have the C18 revision, you will need to add -p 8009 to the argument list in order to specify 0x8009 as the USB product ID. If this reports can’t find device please double check you have the keyboard in IAP mode. We have found out some version of the bootloader only show one interface, which require the use of --loosy argument to use the first interface found on the device with 0x04d9:8009 vid pid pair. | . ",
    "url": "https://openannepro.github.io/install/#flashing-the-firmware",
    "relUrl": "/install/#flashing-the-firmware"
  },"23": {
    "doc": "How to Install",
    "title": "Anne Pro 2 Shine",
    "content": "Building the shine firmware is very simailar to the QMK firmware. | Checkout the repository using git clone https://github.com/OpenAnnePro/annepro2-shine.git --recursive . | Build using # for C15 make C15 # for C18 make C18 # for both make . | If built without error you can find the binary in build/ directory. You will flash the .bin file using annepro2 tools ```bash annepro2_tools -t led build/annepro2-shine-C15.bin ",
    "url": "https://openannepro.github.io/install/#anne-pro-2-shine",
    "relUrl": "/install/#anne-pro-2-shine"
  },"24": {
    "doc": "How to Install",
    "title": "for C18",
    "content": "annepro2_tools -p 8009 -t led build/annepro2-shine-C18.bin . | . Enjoy! . ",
    "url": "https://openannepro.github.io/install/#for-c18",
    "relUrl": "/install/#for-c18"
  },"25": {
    "doc": "How to Install",
    "title": "How to Install",
    "content": " ",
    "url": "https://openannepro.github.io/install/",
    "relUrl": "/install/"
  },"26": {
    "doc": "HW Revision and Variations",
    "title": "C15 vs C18 Hardware Revision",
    "content": " ",
    "url": "https://openannepro.github.io/ap2_revisions/#c15-vs-c18-hardware-revision",
    "relUrl": "/ap2_revisions/#c15-vs-c18-hardware-revision"
  },"27": {
    "doc": "HW Revision and Variations",
    "title": "What’s different",
    "content": "The key differences are the microcontrolleres used. In the C15 revision, two HT32F52342, LQFP48 are used for the matrix and led controllers; however, in the C18 revision they used two HT32F52352, LQFP64. These two are very close in software perspective, but the pin mapping is slightly different. For details of the micro controller themselves, please refer to Holtek’s documentation. But in summary, the HT32F52352 comes with 128K flash and 16K ram, where the HT32F52342 comes with only 64K flash and 8K ram. ",
    "url": "https://openannepro.github.io/ap2_revisions/#whats-different",
    "relUrl": "/ap2_revisions/#whats-different"
  },"28": {
    "doc": "HW Revision and Variations",
    "title": "How do I tell?",
    "content": "There are various indicators as of which revision is which. Case . Flipping you keyboard over, C15 version seems to have “obinslab” engraved in the circle where as C18 has “Anne Pro”. USB ID . If you happen to have an Linux / macOS, you can identify this easily by using lsusb or system info. When the keyboard is in IAP mode, C15 revision will show up as having 04d9:8008 as its USB VendorID and ProductID pair. Where as the C18 revision has 04d9:8009. ",
    "url": "https://openannepro.github.io/ap2_revisions/#how-do-i-tell",
    "relUrl": "/ap2_revisions/#how-do-i-tell"
  },"29": {
    "doc": "HW Revision and Variations",
    "title": "HW Revision and Variations",
    "content": " ",
    "url": "https://openannepro.github.io/ap2_revisions/",
    "relUrl": "/ap2_revisions/"
  }
}
